<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-145358157-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-145358157-1');
    </script>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>
      dna Views
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="shortcut icon" href="favicon.ico"/>
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
      integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/dist/css/sloth.min.css">
  </head>
  <body>
    <nav>
      <a href="index.html">
        <img src="apple-touch-icon.png"/>
        <b>dna</b>
      </a>
        <a href="#dna-mixins">
                dna Mixins</a>
        <a href="#dna-views">
                dna Views</a>
        <a href="#your-views-file">
                Your views file</a>
      <hr>
      <a href="/eliothing">
        <img src="/eliothing/apple-touch-icon.png"/>
        <b>eliothing</b>
      </a>
      <menu>
            <label>Python</label>
            <nav>
                  <a href="/eliothing/genes">
                    <img src="/eliothing/genes/apple-touch-icon.png"/>
                    <b>genes</b>
                  </a>
            </nav>
            <label>Tools</label>
            <nav>
                  <a href="/eliothing/generator-thing">
                    <img src="/eliothing/generator-thing/apple-touch-icon.png"/>
                    <b>generator-thing</b>
                  </a>
            </nav>
      </menu>
    </nav>
    <h1 id="dna-views">dna Views</h1>
<p><strong>dna</strong> provides important Mixins for your views. These are listed here describing what attributes the view provides.</p>
<h2 id="dna-mixins">dna Mixins</h2>
<p>See: <code>dna.view_mixins</code></p>
<h3 id="everythingmixin"><code>EveryThingMixin</code></h3>
<h4 id="site_dna-property"><code>site_dna</code> property</h4>
<p>This property deepcopies the <code>SITE_DNA</code> setting described in the <a href="quickstart.html">quickstart</a>.</p>
<h4 id="dna-property"><code>dna</code> property</h4>
<p>This property returns an instance of the <code>DnaOfDjangoModel</code> class, which the other methods access to build a picture of your website.</p>
<h4 id="page_name-property"><code>page_name</code> property</h4>
<p>This convenient property returns the name of the page from the URL args which will correspond to a <code>page</code> key in the <code>SITE_DNA</code>. e.g. <code>FilmReviews</code>, <code>Suppliers</code>, <code>Bookings</code>, <code>AboutSite</code>.</p>
<h4 id="thing_name-property"><code>thing_name</code> property</h4>
<p>This convenient property returns the name of the current Schema Type from the URL args. e.g. <code>Thing</code>, <code>Place</code>, <code>WebPage</code>, <code>Hospital</code></p>
<h4 id="page_link-property"><code>page_link</code> property</h4>
<p>This convenient property returns a URL to the current page. There are two types of contexts: a URL which is a <code>page</code> in <code>SITE_DNA</code>; and a <code>list</code> page for one of the Schema Types in your site backbone.</p>
<h4 id="page_menu-property"><code>page_menu</code> property</h4>
<p>This property builds a menu object we pass to the <code>_menu.html</code> template, which in turn renders an HMTL menu of the site which is responsive to the current page context. For instance it will display sub pages section of the menu when the URL is for the parent page or any of the other subpages. It will also return which menu item is currently active. The <code>page_menu</code> is also used to build the <code>breadcrumbs</code>.</p>
<h4 id="model-property"><code>Model</code> property.</h4>
<p>This property returns the Model class of the current context. You can treat this property like any Django model, calling the <code>objects</code> property to query the table in the database. It determines the Model class from the <code>thing_name</code> property.</p>
<h4 id="get_context_data-method"><code>get_context_data</code> method</h4>
<p>This sets the universe context for all pages in a <strong>dna</strong> website, sending the following values to any template:</p>
<ul>
<li><code>app_name</code> your <strong>dna</strong> app name in <code>title()</code> format.</li>
<li><code>thing_name</code> property as described above.</li>
<li><code>page_name</code> property as described above.</li>
<li><code>home_page</code> conveniently returns the name/key of the sites first <code>page</code> in the <code>SITE_DNA</code>.</li>
<li><code>page_menu</code> a dict representing the entire menu of the site which changes depending on the current URL.</li>
</ul>
<h3 id="everyquerysetmixin"><code>EveryQuerySetMixin</code></h3>
<h4 id="paginate_by-field"><code>paginate_by</code> field</h4>
<p>Defaults to 20. You can change the pagination number for every Thing listed in your <code>SITE_DNA</code>.</p>
<h4 id="get_queryset-method"><code>get_queryset</code> method</h4>
<p>Returns the Django queryset for the Model of the <code>thing_name</code> in the URL, ordered by the <code>name</code> property.</p>
<h3 id="everygetobjectmixin"><code>EveryGetObjectMixin</code></h3>
<h4 id="get_object-method"><code>get_object</code> method</h4>
<p>Returns the Django instance for the Model of the <code>thing_name</code> and <code>pk</code> in the URL.</p>
<h3 id="everyeditmixin"><code>EveryEditMixin</code></h3>
<h4 id="get_form_class-method"><code>get_form_class</code> method</h4>
<p>Returns the Django standard form prepared for the Model of the <code>thing_name</code> in the URL. This is used in <code>CreateView</code> and <code>UpdateView</code>. The fields rendered by the template are controlled by the <code>SITE_DNA</code> if accessing the Model from a <code>page</code>. Otherwise the form will display all the fields of the Model as specified in the Schema. For more information see the <code>every_form</code> method in the [forms][forms.html] section of the documentation.</p>
<h3 id="everydeletemixin"><code>EveryDeleteMixin</code></h3>
<h4 id="get_success_url-field"><code>get_success_url</code> field</h4>
<p>Return the <code>.page_link</code> property which will redirect to the <code>page</code> which previously hosted the deleted object.</p>
<h3 id="everypagemixin"><code>EveryPageMixin</code></h3>
<h4 id="get_page_content-method"><code>get_page_content</code> method</h4>
<p>When the URL relates to a <code>page</code> key in the <code>SITE_DNA</code>, this builds the content of the page from the <code>engage</code> and <code>list</code> sections of the dictionary. This is called by the <code>get_context_data</code> method of this class.</p>
<h4 id="get_context_data-method-1"><code>get_context_data</code> method</h4>
<p>Adds <code>page_engages</code> and <code>page_lists</code> to the context. These are dictionary objects which are rendered by <strong>dna</strong>&#39;s and contain all the objects and querysets required to build the content for the given page. As well as the object instances and querysets, the two data sets also provide contextual information relevant to the content, like the paginator, the thing name, as well as any custom template which should be used to render the object or queryset (overriding <strong>dna</strong>&#39;s default templates).</p>
<h2 id="dna-views-1">dna Views</h2>
<p>All the Mixins described above are combined with standard Django class based views on the <code>dna.views</code> file, which you can import into your own views file.</p>
<h3 id="everycreateviewmixin"><code>EveryCreateViewMixin</code></h3>
<p>Create any Schema Type mentioned in your <code>SITE_DNA</code>.</p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin</code>, <code>EveryGetObjectMixin</code>, <code>EveryEditMixin</code>, <code>CreateView</code></li>
<li><strong>URL</strong>: <code>/cr/page_name/thing_name</code></li>
</ul>
<h3 id="everyupdateviewmixin"><code>EveryUpdateViewMixin</code></h3>
<p>Update any Schema Type mentioned in your <code>SITE_DNA</code>.</p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin</code>, <code>EveryGetObjectMixin</code>, <code>EveryEditMixin</code>, <code>UpdateView</code></li>
<li><strong>URL</strong>: <code>/u/page_name/thing_name/pk</code></li>
</ul>
<h3 id="everydeleteviewmixin"><code>EveryDeleteViewMixin</code></h3>
<p>Delete any Schema Type mentioned in your <code>SITE_DNA</code>.</p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin</code>, <code>EveryGetObjectMixin</code>, <code>EveryQuerySetMixin</code>, <code>EveryDeleteMixin</code>, <code>DeleteView</code></li>
<li><strong>URL</strong>: <code>/d/page_name/thing_name/pk</code></li>
</ul>
<h3 id="everyengageviewmixin"><code>EveryEngageViewMixin</code></h3>
<p>View on a single page any Schema Type mentioned in your <code>SITE_DNA</code>.</p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin</code>, <code>EveryQuerySetMixin</code>, <code>EveryGetObjectMixin</code>, <code>DetailView</code></li>
<li><strong>URL</strong>: <code>/e/page_name/thing_name/pk</code></li>
</ul>
<h3 id="everyiterateviewmixin"><code>EveryIterateViewMixin</code></h3>
<p>Handles properties of any Schema Type which have been given an <code>iterable</code> role <code>SITE_DNA</code>. <em>NB: Feature in development</em></p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin</code>, <code>TemplateView</code></li>
<li><strong>URL</strong>: <code>/i/page_name/thing_name/pk/field_name</code></li>
</ul>
<h3 id="everyoptimizeviewmixin"><code>EveryOptimizeViewMixin</code></h3>
<p>A special kind of view from which you can create reports, graphs, or provide settings and features to administrate any Schema Type. <em>NB: Feature in development</em></p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin</code>, <code>TemplateView</code></li>
<li><strong>URL</strong>: <code>/o/page_name/thing_name</code></li>
</ul>
<h3 id="everylistviewmixin"><code>EveryListViewMixin</code></h3>
<p>View on a single page a queryset matching a Schema Type mentioned in your <code>SITE_DNA</code>.</p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin</code>, <code>EveryQuerySetMixin</code>, <code>ListView</code></li>
<li><strong>URL</strong>: <code>/l/page_name/thing_name</code></li>
</ul>
<h3 id="everypageviewmixin"><code>EveryPageViewMixin</code></h3>
<p>View all the content of Schema Types mentioned in a <code>page</code> in your <code>SITE_DNA</code>.</p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin</code>, <code>EveryPageMixin</code>, <code>TemplateView</code></li>
<li><strong>URL</strong>: <code>/p/page_name</code></li>
</ul>
<h3 id="everyhomeviewmixin"><code>EveryHomeViewMixin</code></h3>
<p>The entry point of the site which you can use as Splash Screen, a Login Page or other static content for your webapp.</p>
<ul>
<li><strong>Mixins</strong>: <code>EveryThingMixin, TemplateView</code></li>
<li><strong>URL</strong>: <code>/</code></li>
</ul>
<h2 id="your-views-file">Your views file</h2>
<p>Your <code>app_name.views.py</code> file should look something like this, using <strong>dna</strong> Mixins. You can then build on the available context variables and view properties described above. Out of the box, the only thing which needs setting is a template file and <code>template_name</code> for each <strong>dna</strong> view type. These are described in the <a href="templates.html">templates</a> section of this documentation.</p>
<pre><code># -*- encoding: utf-8 -*-
from dna.views import (
    EveryCreateViewMixin,
    EveryUpdateViewMixin,
    EveryDeleteViewMixin,
    EveryEngageViewMixin,
    EveryListViewMixin,
    EveryIterateView,
    EveryOptimizeView,
    EveryPageViewMixin,
    EveryHomeViewMixin,
)
class MyAppCreateView(EveryCreateViewMixin):
    template_name = &quot;my_app/thing_form.html&quot;
class MyAppUpdateViewiew(EveryUpdateViewMixin):
    template_name = &quot;my_app/thing_form.html&quot;
class MyAppDeleteViewiew(EveryDeleteViewMixin):
    template_name = &quot;my_app/thing_delete.html&quot;
class MyAppEngageViewiew(EveryEngageViewMixin):
    template_name = &quot;my_app/thing_engaged.html&quot;
class MyAppListViewiew(EveryListViewMixin):
    template_name = &quot;my_app/thing_listed.html&quot;
class MyAppPageViewiew(EveryPageViewMixin):
    template_name = &quot;my_app/thing_page.html&quot;
class MyAppHomeViewiew(EveryHomeViewMixin):
    template_name = &quot;my_app/home_page.html&quot;</code></pre>
    <footer>
      <a href="https://gitlab.com/elioway/eliothing/dna">GitLab</a> |
      <a href="https://gitlab.com/eliothing">Contribute</a>
      <img src="elio-dna-logo.png">
      <label>&copy; 2019 Made the elioWay</label>
    </footer>
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
      crossorigin="anonymous"></script>
    <script src="/dist/js/adons.js"></script>
    <script src="/dist/js/main.js"></script>
  </body>
</html>
