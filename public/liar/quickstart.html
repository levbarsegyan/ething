<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-145358157-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-145358157-1');
    </script>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>
      liar Quickstart - eliothing
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="shortcut icon" href="favicon.ico"/>
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
      integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/sloth.min.css">
  </head>
  <body>
    <nav>
      <a href="index.html">
        <img src="apple-touch-icon.png" />
        <b>liar</b>
      </a>
        <a href="#prerequisites">
                Prerequisites</a>
        <a href="#tldr-checklist">
                TLDR Checklist</a>
        <a href="#exercise-1-dicey">
                Exercise 1: Dicey</a>
        <a href="#exercise-2-people-are-tricky">
                Exercise 2: People are tricky</a>
        <a href="#exercise-3-down-to-business">
                Exercise 3: Down to business</a>
        <a href="#next">
                Next</a>
      <menu>
          <label>Core</label>
          <nav>
                <a href="/eliothing/banjo/index.html">
                  <img src="/eliothing/banjo/apple-touch-icon.png"/>
                  <b>banjo</b>
                </a>
          </nav>
      </menu>
      <menu>
          <label>Tools</label>
          <nav>
                  <a href="/eliothing/django_dna/index.html">
                    <img src="/eliothing/django_dna/apple-touch-icon.png"/>
                    <b>django_dna</b>
                  </a>
          </nav>
      </menu>
    </nav>
    <h1 id="liar-quickstart">liar Quickstart</h1>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>liar Installed <a href="installing.md">No!</a></li>
</ul>
<h2 id="tldr-checklist">TLDR Checklist</h2>
<p>To create some new liar data:</p>
<ul>
<li><p>Create a python file.</p>
</li>
<li><p>Import <code>IAmALiar</code> and instantiate:</p>
</li>
</ul>
<pre><code class="language-python">from liar.iamaliar import IAmALiar
number_records = 10
maker = IAmALiar(number_records)</code></pre>
<ul>
<li>Create a definition:</li>
</ul>
<pre><code class="language-python">datadef = [{
  &quot;name&quot;: &quot;tldr&quot;,
  &quot;class&quot;: &quot;quicklist&quot;,
  &quot;data&quot;: [&quot;T&quot;, &quot;L&quot;, &quot;D&quot;, &quot;R&quot;]
}]</code></pre>
<p>... or use a ready-made definition.</p>
<pre><code class="language-python">from liar.model.marketing import product_title, postage_cost
from liar.model.date import within_days
datadef = [product_title, postage_cost, within_days]</code></pre>
<ul>
<li>Build and output the data.</li>
</ul>
<pre><code class="language-python">my_data_set = maker.get_data(datadef)
print(my_data_set)</code></pre>
<h2 id="exercise-1-dicey">Exercise 1: Dicey</h2>
<p>Create a new python file in the app where <strong>liar</strong> is installed. In this example we assume you are putting a file in the <code>eliothing/liar/examples</code> folder called <code>exercise1.py</code>.</p>
<p>Open <code>exercise1.py</code>.</p>
<ul>
<li>Import the IAmALiar module.</li>
</ul>
<pre><code class="language-python">from liar.iamaliar import IAmALiar</code></pre>
<ul>
<li>Instantiate the class and set the required number of records.</li>
</ul>
<pre><code class="language-python">maker = IAmALiar(100)</code></pre>
<ul>
<li>A dice is easy. We can use a simple primitive type:</li>
</ul>
<pre><code class="language-python">dice = {
&quot;name&quot;: &quot;dice&quot;,
&quot;class&quot;: &quot;iamprimitive&quot;,
&quot;method&quot;: &quot;int_list&quot;,
&quot;min&quot;: 1,
&quot;max&quot;: 6,
}</code></pre>
<p>Or a quicklist:</p>
<pre><code class="language-python">dice = {
  &quot;name&quot;: &quot;dice&quot;,
  &quot;class&quot;: &quot;quicklist&quot;,
  &quot;data&quot;: [1, 2, 3, 4, 5, 6]
}</code></pre>
<p>A dice is too easy, let&#39;s enable a game of backgammon and use two dice. The important thing is not to use the same field name. The utility method is great for reusing definitions and avoiding <a href="https://8thlight.com/blog/shibani-mookerjee/2019/05/07/some-common-gotchas-in-python.html">Passing By Reference</a> gotchas.</p>
<ul>
<li>Import the <code>rename_def</code> utility at the top. If you&#39;re a big boy, you don&#39;t have to use it.</li>
</ul>
<pre><code class="language-python">from liar.ijusthelp import rename_def</code></pre>
<ul>
<li>Base your two dice on the first definition, rewriting and copying it as the same time:</li>
</ul>
<pre><code class="language-python">dice1 = rename_def(dice, &quot;dice1&quot;)
dice2 = rename_def(dice, &quot;dice2&quot;)</code></pre>
<ul>
<li>Now generate the data and print the data to the console:</li>
</ul>
<pre><code class="language-python">print(maker.get_data([dice1, dice2]))</code></pre>
<ul>
<li>Finally save and run your script at the shell: <code>python examples/exercise1.py</code>. You should see the following print out.</li>
</ul>
<pre><code class="language-bash">[   
  {&#39;dice1&#39;: 2, &#39;dice2&#39;: 1},
  {&#39;dice1&#39;: 5, &#39;dice2&#39;: 5},
  {&#39;dice1&#39;: 6, &#39;dice2&#39;: 3},
  {&#39;dice1&#39;: 5, &#39;dice2&#39;: 4}
]</code></pre>
<p>We don&#39;t know who is rolling: Let&#39;s add the player of each dice, cycling between &quot;white&quot; and &quot;black&quot;.</p>
<ul>
<li>Add a toothpaste definition.</li>
</ul>
<pre><code class="language-python">player = {
  &quot;name&quot;: &quot;player&quot;,
  &quot;class&quot;: &quot;toothpaste&quot;,
  &quot;data&quot;: [&quot;white&quot;, &quot;black&quot;],
}</code></pre>
<ul>
<li>Now generate the data and print the data to the console:</li>
</ul>
<pre><code class="language-python">backgammon_model = [player, dice1, dice2]
print(maker.get_data(backgammon_model))</code></pre>
<p>You should now see a printout like this:</p>
<pre><code class="language-bash">[
  {&quot;player&quot;: &quot;white&quot;, &quot;dice1&quot;: 4, &quot;dice2&quot;: 1},
  {&quot;player&quot;: &quot;black&quot;, &quot;dice1&quot;: 6, &quot;dice2&quot;: 5},
  {&quot;player&quot;: &quot;white&quot;, &quot;dice1&quot;: 6, &quot;dice2&quot;: 6},
  {&quot;player&quot;: &quot;black&quot;, &quot;dice1&quot;: 1, &quot;dice2&quot;: 5},
  ...
]</code></pre>
<h2 id="exercise-2-people-are-tricky">Exercise 2: People are tricky</h2>
<p>Let&#39;s try something a bit more useful and put out some data we can use for a contact app.</p>
<ul>
<li>Create and open <code>exercise2.py</code> and instantiate <code>IAmALiar</code> at the top.</li>
</ul>
<pre><code class="language-python">from liar.iamaliar import IAmALiar
maker = IAmALiar(100)</code></pre>
<p>Databases can usually provide a primary key by default, but often we&#39;ll want to create relatable data - and for that a primary key we can predict in our random data is useful.</p>
<ul>
<li>The pk class is the simplest type of data you can create. Add this to your code file:</li>
</ul>
<pre><code class="language-python">pk = { &quot;name&quot;: &quot;pk&quot;, &quot;class&quot;: &quot;pk&quot; }</code></pre>
<p>We need some names, and for that we&#39;ll use the raw data provided.</p>
<ul>
<li>The raw data comes with first names, genders and titles in one data set, and last names in another.</li>
</ul>
<pre><code class="language-python">person = { &quot;name&quot;: &quot;person&quot;, &quot;class&quot;: &quot;igetraw&quot;, &quot;data&quot;: &quot;person&quot;, }
surname = { &quot;name&quot;: &quot;surname&quot;, &quot;class&quot;: &quot;igetraw&quot;, &quot;data&quot;: &quot;surname&quot;, }
print(maker.get_data([pk, person, surname]))</code></pre>
<p>Run this python script and you should You should see something like this:</p>
<pre><code class="language-bash">[
    {
        &quot;pk&quot;: 1,
        &quot;person&quot;: {&quot;title&quot;: &quot;Mr&quot;, &quot;first_name&quot;: &quot;Felipe&quot;, &quot;sex&quot;: &quot;male&quot;},
        &quot;surname&quot;: &quot;Miriam&quot;,
    },
    {
        &quot;pk&quot;: 2,
        &quot;person&quot;: {&quot;title&quot;: &quot;Miss&quot;, &quot;first_name&quot;: &quot;Ashlee&quot;, &quot;sex&quot;: &quot;female&quot;},
        &quot;surname&quot;: &quot;Fitzhenry&quot;,
    },
]</code></pre>
<p>Notice that the &quot;person&quot; field is a JSON object?</p>
<ul>
<li>If you&#39;d prefer a flatter result, add the <code>flatten</code> option.</li>
</ul>
<pre><code class="language-python">person ={
    &quot;name&quot;: &quot;person&quot;,
    &quot;class&quot;: &quot;igetraw&quot;,
    &quot;data&quot;: &quot;person&quot;,
    &quot;flatten&quot;: True
}</code></pre>
<p>You should see something like this:</p>
<pre><code class="language-bash">[
    {
        &quot;pk&quot;: 1,
        &quot;person_first_name&quot;: &quot;Portia&quot;,
        &quot;person_sex&quot;: &quot;female&quot;,
        &quot;person_title&quot;: &quot;Mrs&quot;,
        &quot;surname&quot;: &quot;Sevearengen&quot;,
    },
    {
        &quot;pk&quot;: 2,
        &quot;person_first_name&quot;: &quot;Johnathan&quot;,
        &quot;person_sex&quot;: &quot;male&quot;,
        &quot;person_title&quot;: &quot;Mr&quot;,
        &quot;surname&quot;: &quot;Franzmeier&quot;,
    },
]</code></pre>
<p>Notice that the field name you chose is joined to the field name of the flattened columns. This is important because it means you can reuse the person raw data and add another person to your data set.</p>
<p>We will extend our data set to produce married couples. For this will use the <code>filters</code> option.</p>
<ul>
<li>Extend your data defintions so that the couples are male and female (just for demo purposes!).</li>
</ul>
<pre><code class="language-python">husband = {
    &quot;name&quot;: &quot;husband&quot;,
    &quot;class&quot;: &quot;igetraw&quot;,
    &quot;data&quot;: &quot;person&quot;,
    &quot;flatten&quot;: True,
    &quot;filters&quot;: {&quot;sex&quot;: [&quot;male&quot;]},
}
wife = {
    &quot;name&quot;: &quot;wife&quot;,
    &quot;class&quot;: &quot;igetraw&quot;,
    &quot;data&quot;: &quot;person&quot;,
    &quot;flatten&quot;: True,
    &quot;filters&quot;: {&quot;sex&quot;: [&quot;female&quot;], &quot;title&quot;: [&quot;Mrs&quot;, &quot;Dr&quot;]},
}
surname = { &quot;name&quot;: &quot;surname&quot;, &quot;class&quot;: &quot;igetraw&quot;, &quot;data&quot;: &quot;surname&quot; }
print(maker.get_data([pk, husband, wife, surname]))</code></pre>
<ul>
<li>Now our data set has two persons per record, each with unique field names:</li>
</ul>
<pre><code class="language-bash">[
    {
        &quot;pk&quot;: 1,
        &quot;husband_first_name&quot;: &quot;Kerry&quot;,
        &quot;husband_sex&quot;: &quot;male&quot;,
        &quot;husband_title&quot;: &quot;Mr&quot;,
        &quot;surname&quot;: &quot;Smith&quot;,
        &quot;wife_first_name&quot;: &quot;Maude&quot;,
        &quot;wife_sex&quot;: &quot;female&quot;,
        &quot;wife_title&quot;: &quot;Mrs&quot;,
    },
    {
        &quot;pk&quot;: 2,
        &quot;husband_first_name&quot;: &quot;Eusebio&quot;,
        &quot;husband_sex&quot;: &quot;male&quot;,
        &quot;husband_title&quot;: &quot;Mr&quot;,
        &quot;surname&quot;: &quot;Jones&quot;,
        &quot;wife_first_name&quot;: &quot;Victoria&quot;,
        &quot;wife_sex&quot;: &quot;female&quot;,
        &quot;wife_title&quot;: &quot;Dr&quot;,
    },
]</code></pre>
<p>Finally we will add an email address each.</p>
<ul>
<li>Import the <code>rewrite_dict</code> helper and a prepared defintion of an email address called <code>personal_email_domains</code>.</li>
</ul>
<pre><code class="language-python">from liar.ijusthelp import rewrite_dict
from liar.model.personal import personal_email_domains</code></pre>
<ul>
<li>Add a <code>field</code> class to access the husband&#39;s first name in lower case.</li>
</ul>
<pre><code class="language-python">husband_user_name = {
    &quot;name&quot;: &quot;husband_user_name&quot;,
    &quot;class&quot;: &quot;field&quot;,
    &quot;data&quot;: &quot;husband_first_name&quot;,
    &quot;remove&quot;: True,
}</code></pre>
<p>Because we don&#39;t want this field in our results, we flag to have it removed from results using the <code>remove</code> flag.</p>
<ul>
<li>Use this as a base to create a username for the wife:</li>
</ul>
<pre><code class="language-python">wife_user_name = rewrite_dict(
    husband_user_name, {&quot;name&quot;: &quot;wife_user_name&quot;, &quot;data&quot;: &quot;wife_first_name&quot;}
)</code></pre>
<ul>
<li>Define an email address for the husband and wife, using the <code>concat</code> class to build compound data.</li>
</ul>
<p>NB: using the <code>slugify</code> transformation to ensure we remove spaces, etc</p>
<pre><code class="language-python">husband_email = {
    &quot;name&quot;: &quot;husband_email&quot;,
    &quot;class&quot;: &quot;concat&quot;,
    &quot;data&quot;: [
        husband_user_name,
        {&quot;class&quot;: &quot;quicklist&quot;, &quot;data&quot;: [&quot;_&quot;, &quot;.&quot;, &quot;-&quot;, &quot;&quot;]},
        {&quot;class&quot;: &quot;field&quot;, &quot;data&quot;: &quot;surname&quot;},
        {&quot;class&quot;: &quot;exact&quot;, &quot;data&quot;: &quot;@&quot;},
        personal_email_domains,
    ],
    &quot;itransform&quot;: [&quot;slugify&quot;],
}
wife_email = {
    &quot;name&quot;: &quot;wife_email&quot;,
    &quot;class&quot;: &quot;concat&quot;,
    &quot;data&quot;: [
        wife_user_name,
        {&quot;class&quot;: &quot;quicklist&quot;, &quot;data&quot;: [&quot;_&quot;, &quot;.&quot;, &quot;-&quot;, &quot;&quot;]},
        {&quot;class&quot;: &quot;field&quot;, &quot;data&quot;: &quot;surname&quot;},
        {&quot;class&quot;: &quot;exact&quot;, &quot;data&quot;: &quot;@&quot;},
        personal_email_domains,
    ],
    &quot;itransform&quot;: [&quot;slugify&quot;],
}</code></pre>
<p>Notice we are using the imported <code>personal_email_domains</code> definition provide some random email domain names.</p>
<ul>
<li>Put the definitions together, making use that you put the fields in the order they are called by the <code>field</code> class:</li>
</ul>
<pre><code class="language-python">married_couple_model = [
  pk,
  husband,
  wife,
  surname,
  husband_user_name,
  wife_user_name,
  husband_email,
  wife_email
]
print(maker.get_data(married_couple_model))</code></pre>
<p>And you should see something like this. Notice that the <code>husband_user_name</code> and <code>wife_user_name</code> fields are not included.</p>
<pre><code>[
    {
        &quot;husband_email&quot;: &quot;branden-perfect@gmail.co.uk&quot;,
        &quot;husband_first_name&quot;: &quot;Branden&quot;,
        &quot;husband_sex&quot;: &quot;male&quot;,
        &quot;husband_title&quot;: &quot;Mr&quot;,
        &quot;pk&quot;: 1,
        &quot;surname&quot;: &quot;Perfect&quot;,
        &quot;wife_email&quot;: &quot;athena_perfect@yahoo.net&quot;,
        &quot;wife_first_name&quot;: &quot;Athena&quot;,
        &quot;wife_sex&quot;: &quot;female&quot;,
        &quot;wife_title&quot;: &quot;Mrs&quot;,
    },
    {
        &quot;husband_email&quot;: &quot;cornelius.neelaenbraun@yahoo.com&quot;,
        &quot;husband_first_name&quot;: &quot;Cornelius&quot;,
        &quot;husband_sex&quot;: &quot;male&quot;,
        &quot;husband_title&quot;: &quot;Mr&quot;,
        &quot;pk&quot;: 2,
        &quot;surname&quot;: &quot;Neelaenbraun&quot;,
        &quot;wife_email&quot;: &quot;elda-neelaenbraun@live.co.uk&quot;,
        &quot;wife_first_name&quot;: &quot;Elda&quot;,
        &quot;wife_sex&quot;: &quot;female&quot;,
        &quot;wife_title&quot;: &quot;Mrs&quot;,
    },
]</code></pre><h2 id="exercise-3-down-to-business">Exercise 3: Down to business</h2>
<p>This exercise demonstrates more complex data definitions.</p>
<ul>
<li><p>Create and open <code>exercise3.py</code></p>
</li>
<li><p>Instantiate <code>IAmALiar</code> at the top.</p>
</li>
</ul>
<pre><code class="language-python">from liar.iamaliar import IAmALiar
maker = IAmALiar(10)</code></pre>
<ul>
<li>First add a business name. For this we will use the &quot;danish&quot; library and combine it with some company suffixes using the <code>concat</code> class:</li>
</ul>
<pre><code class="language-bash">company_name = {
    &quot;name&quot;: &quot;company_name&quot;,
    &quot;class&quot;: &quot;concat&quot;,
    &quot;data&quot;: [
        {
            &quot;class&quot;: &quot;iblurb&quot;,
            &quot;method&quot;: &quot;plaintext_title&quot;,
            &quot;min&quot;: 1,
            &quot;max&quot;: 2,
            &quot;language&quot;: &quot;danish&quot;,
            &quot;itransform&quot;: [&quot;title&quot;]
        },
        {
            &quot;class&quot;: &quot;quicklist&quot;,
            &quot;data&quot;: [&quot; Ltd&quot;, &quot; Pty&quot;, &quot; Corporation&quot;, &quot; Plc&quot;, &quot; Limited&quot;, &quot; &amp; Sons&quot;],
        },
    ],
}</code></pre>
<p>Notice how the <code>concat</code> class contains two sub defintions. NB: Sub definitions need no name.</p>
<p>In <code>IAmALiar</code> you can combine lots of definitions into 1 field this way - even nesting more <code>concat</code> classes.</p>
<p>As well as a simple <code>quicklist</code> we have also used the <code>iblurb</code> to build a company name from one or two Danish words - which should sound pompous enough. Adding the <code>itransform</code> option to &quot;title&quot; case.</p>
<ul>
<li>Add a <code>pk</code> and show the records.</li>
</ul>
<pre><code class="language-python">from liar.model.common import pk
pp.pprint(maker.get_data([pk, company_name]))</code></pre>
<p>Your output will look something like this:</p>
<pre><code class="language-bash">[   
  {&#39;company_name&#39;: &#39;Andres &amp; Sons&#39;, &#39;pk&#39;: 1},
  {&#39;company_name&#39;: &#39;Opdager Pty&#39;, &#39;pk&#39;: 2},
  {&#39;company_name&#39;: &#39;Præsident Plc&#39;, &#39;pk&#39;: 3},
  {&#39;company_name&#39;: &#39;Spøgelser Gãr Corporation&#39;, &#39;pk&#39;: 4},
]</code></pre>
<p>Now we will add a couple of fields suitable for a CMS: company size and company worth.</p>
<ul>
<li>We start with the company size:</li>
</ul>
<pre><code class="language-python">company_size = {
    &quot;name&quot;: &quot;company_size&quot;,
    &quot;class&quot;: &quot;primitive&quot;,
    &quot;method&quot;: &quot;int_list&quot;,
    &quot;min&quot;: 5,
    &quot;max&quot;: 500,
}</code></pre>
<p>Now we will add company worth. For this field we will base it on the company size, ensuring the company&#39;s value is logical. For this we use the <code>field</code> class and refer to the field we created above. We&#39;ve also added a <code>calc</code> option to alter, then format, the value of the &quot;company_size&quot;.</p>
<ul>
<li>This value is concatonated to a &quot;$&quot; sign for good measure.</li>
</ul>
<pre><code class="language-python">company_worth = {
    &quot;name&quot;: &quot;company_worth&quot;,
    &quot;class&quot;: &quot;concat&quot;,
    &quot;data&quot;: [
        {&quot;class&quot;: &quot;exact&quot;, &quot;data&quot;: &quot;$ &quot;},
        {
            &quot;class&quot;: &quot;field&quot;,
            &quot;data&quot;: &quot;company_size&quot;,
            &quot;calc&quot;: [{&quot;multiply&quot;: 10000}, {&quot;divide&quot;: 1.1}, {&quot;format&quot;: &quot;{:,.2f}&quot;}],
        },
    ],
}
company_prospect_model = [pk, company_name, company_size, company_worth]
print(maker.get_data(company_prospect_model))</code></pre>
<p>NB: It is important the company_size field comes before the company_worth field when you call the <code>get_data</code> method.</p>
<p>You should see something like this:</p>
<pre><code class="language-bash">[
    {
        &quot;company_name&quot;: &quot;Røven Limited&quot;,
        &quot;company_size&quot;: 14,
        &quot;company_worth&quot;: &quot;$ 127,272.73&quot;,
        &quot;pk&quot;: 1,
    },
    {
        &quot;company_name&quot;: &quot;Smutter Corporation&quot;,
        &quot;company_size&quot;: 146,
        &quot;company_worth&quot;: &quot;$ 1,327,272.73&quot;,
        &quot;pk&quot;: 2,
    },
    {
        &quot;company_name&quot;: &quot;Bekræftet Plc&quot;,
        &quot;company_size&quot;: 491,
        &quot;company_worth&quot;: &quot;$ 4,463,636.36&quot;,
        &quot;pk&quot;: 3,
    },
]</code></pre>
<h2 id="next">Next</h2>
<p>This quickstart has briefly introduced 3 scenarios where fake data might be useful, and we have covered about 90% of <strong>liar</strong>&#39;s features. To see the full list of features, we suggest refering to the API.</p>
<ul>
<li><a href="api.html">API documentation</a></li>
</ul>
    <footer>
      <a href="https://gitlab.com/eliothing/liar">GitLab</a> |
      <a href="https://gitlab.com/eliothing">Contribute</a>
      <img src="elio-liar-logo.png">
      <label>&copy; 2019 Made the elioWay</label>
    </footer>
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
      crossorigin="anonymous"></script>
    <script src="/js/adons.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
